<template>
  <lightning-card title="Email & Phone Editor" icon-name="standard:contact">
    <template if:true={loaded}>
      <div class="slds-p-around_medium slds-grid slds-gutters">
        <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2">
          <lightning-input
            type="checkbox"
            label="Do Not Call"
            name="DoNotCall"
            checked={doNotCall}
            onchange={handleToggle}
          ></lightning-input>

          <lightning-input
            type="tel"
            label="Phone"
            name="Phone"
            value={phone}
            disabled={doNotCall}
            onchange={handleChange}
            message-when-bad-input="Enter a valid phone number"
          ></lightning-input>
        </div>

        <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2">
          <lightning-input
            type="checkbox"
            label="Email Opt Out"
            name="HasOptedOutOfEmail"
            checked={emailOptOut}
            onchange={handleToggle}
          ></lightning-input>

          <lightning-input
            type="email"
            label="Email"
            name="Email"
            value={email}
            disabled={emailOptOut}
            onchange={handleChange}
            message-when-bad-input="Enter a valid email address"
          ></lightning-input>
        </div>
      </div>

      <div class="slds-p-horizontal_medium slds-p-bottom_medium slds-grid slds-wrap slds-gutters_small">
        <div class="slds-col slds-grow-none">
          <lightning-button
            variant="brand"
            label="Save"
            onclick={handleSave}
            disabled={saveDisabled}
            class="slds-m-right_small"
          ></lightning-button>
        </div>
        <div class="slds-col slds-grow-none">
          <lightning-button
            label="Reset"
            onclick={handleReset}
            variant="neutral"
          ></lightning-button>
        </div>
      </div>
    </template>

    <template if:false={loaded}>
      <div class="slds-p-around_medium">
        <lightning-spinner size="small"></lightning-spinner>
      </div>
    </template>
  </lightning-card>
</template>
